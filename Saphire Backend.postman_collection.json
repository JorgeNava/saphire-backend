{
  "info": {
    "_postman_id": "a1b2c3d4-5678-90ab-cdef-1234567890ab",
    "name": "Saphire Backend",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Messages",
      "item": [
        {
          "name": "Save Text Message",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"text\": \"Mi primer pensamiento\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": { "raw": "{{API_GATEWAY_URL}}/messages/text", "host": ["{{API_GATEWAY_URL}}"], "path": ["messages","text"] }
          },
          "response": []
        },
        {
          "name": "Save Audio Message",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"s3Key\": \"audio123.mp3\"\n}"
            },
            "url": { "raw": "{{API_GATEWAY_URL}}/messages/audio", "host": ["{{API_GATEWAY_URL}}"], "path": ["messages","audio"] }
          },
          "response": []
        },
        {
          "name": "Generate Upload URL",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{API_GATEWAY_URL}}/messages/upload-url", "host": ["{{API_GATEWAY_URL}}"], "path": ["messages","upload-url"] }
          },
          "response": []
        },
        {
          "name": "Get Messages",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/messages?userId=user123&inputType=text&usedAI=false",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["messages"],
              "query": [
                { "key": "userId", "value": "user123" },
                { "key": "inputType", "value": "text" },
                { "key": "usedAI", "value": "false" }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Message",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/messages/{{messageId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["messages","{{messageId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Update Message",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"classification\": \"reflexión\",\n  \"usedAI\": false\n}"
            },
            "url": {
              "raw": "{{API_GATEWAY_URL}}/messages/{{messageId}}",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["messages","{{messageId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Message",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/messages/{{messageId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["messages","{{messageId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Thoughts",
      "item": [
        {
          "name": "Create Thought",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"content\": \"Idea para proyecto\",\n  \"tags\": [\"idea\"],\n  \"inputType\": \"text\"\n}"
            },
            "url": { "raw": "{{API_GATEWAY_URL}}/thoughts", "host": ["{{API_GATEWAY_URL}}"], "path": ["thoughts"] }
          },
          "response": []
        },
        {
          "name": "Get Thoughts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/thoughts?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["thoughts"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Get Thought",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/thoughts/{{thoughtId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["thoughts","{{thoughtId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Update Thought",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"content\": \"Idea refinada\",\n  \"tags\": [\"idea\",\"refinada\"]\n}"
            },
            "url": {
              "raw": "{{API_GATEWAY_URL}}/thoughts/{{thoughtId}}",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["thoughts","{{thoughtId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Thought",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/thoughts/{{thoughtId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["thoughts","{{thoughtId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Lists",
      "item": [
        {
          "name": "Create List",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"name\": \"Compras\",\n  \"tags\": [\"hogar\"],\n  \"items\": [\"Leche\",\"Pan\"]\n}"
            },
            "url": { "raw": "{{API_GATEWAY_URL}}/lists", "host": ["{{API_GATEWAY_URL}}"], "path": ["lists"] }
          },
          "response": []
        },
        {
          "name": "Get Lists",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/lists?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["lists"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Get List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/lists/{{listId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["lists","{{listId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Update List",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"name\": \"Compras semanales\",\n  \"items\": [\"Huevos\",\"Queso\"],\n  \"tags\": [\"hogar\",\"supermercado\"]\n}"
            },
            "url": {
              "raw": "{{API_GATEWAY_URL}}/lists/{{listId}}",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["lists","{{listId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete List",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/lists/{{listId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["lists","{{listId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Add Item to List",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"listId\": \"{{listId}}\",\n  \"item\": \"Manzanas\"\n}"
            },
            "url": {
              "raw": "{{API_GATEWAY_URL}}/lists/{{listId}}/items",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["lists","{{listId}}","items"]
            }
          },
          "response": []
        },
        {
          "name": "Replace List Items",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"listId\": \"{{listId}}\",\n  \"items\": [\"Pan\",\"Leche\"]\n}"
            },
            "url": {
              "raw": "{{API_GATEWAY_URL}}/lists/{{listId}}/items",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["lists","{{listId}}","items"]
            }
          },
          "response": []
        },
        {
          "name": "Delete List Item",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"listId\": \"{{listId}}\",\n  \"item\": \"Pan\"\n}"
            },
            "url": {
              "raw": "{{API_GATEWAY_URL}}/lists/{{listId}}/items",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["lists","{{listId}}","items"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Notes",
      "item": [
        {
          "name": "Create Note",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"title\": \"Mi nota\",\n  \"content\": \"Contenido de la nota\",\n  \"tags\": [\"importante\"]\n}"
            },
            "url": { "raw": "{{API_GATEWAY_URL}}/notes", "host": ["{{API_GATEWAY_URL}}"], "path": ["notes"] }
          },
          "response": []
        },
        {
          "name": "Get Notes",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/notes?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["notes"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Get Note",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/notes/{{noteId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["notes","{{noteId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Update Note",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"title\": \"Nota actualizada\",\n  \"content\": \"Contenido modificado\"\n}"
            },
            "url": {
              "raw": "{{API_GATEWAY_URL}}/notes/{{noteId}}",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["notes","{{noteId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Note",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/notes/{{noteId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["notes","{{noteId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Tags",
      "item": [
        {
          "name": "Create Tag",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"name\": \"urgente\",\n  \"color\": \"#ff0000\"\n}"
            },
            "url": { "raw": "{{API_GATEWAY_URL}}/tags", "host": ["{{API_GATEWAY_URL}}"], "path": ["tags"] }
          },
          "response": []
        },
        {
          "name": "Get Tags",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/tags?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["tags"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Get Tag",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/tags/{{tagId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["tags","{{tagId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        },
        {
          "name": "Update Tag",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"name\": \"alta prioridad\",\n  \"color\": \"#00ff00\"\n}"
            },
            "url": {
              "raw": "{{API_GATEWAY_URL}}/tags/{{tagId}}",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["tags","{{tagId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Tag",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/tags/{{tagId}}?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["tags","{{tagId}}"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Actions",
      "item": [
        {
          "name": "Record Action",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user123\",\n  \"actionType\": \"CREATE_LIST\",\n  \"details\": \"Se creó lista Compras\"\n}"
            },
            "url": { "raw": "{{API_GATEWAY_URL}}/actions", "host": ["{{API_GATEWAY_URL}}"], "path": ["actions"] }
          },
          "response": []
        },
        {
          "name": "Get Actions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/actions?userId=user123",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["actions"],
              "query": [ { "key": "userId", "value": "user123" } ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"first\": \"Ana\",\n  \"lastname\": \"García\",\n  \"email\": \"ana@ejemplo.com\",\n  \"password\": \"MiClave123\"\n}"
            },
            "url": { "raw": "{{API_GATEWAY_URL}}/users", "host": ["{{API_GATEWAY_URL}}"], "path": ["users"] }
          },
          "response": []
        },
        {
          "name": "Get User",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{API_GATEWAY_URL}}/users/{{userId}}",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["users","{{userId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"first\": \"Ana\",\n  \"lastname\": \"Sánchez\",\n  \"roles\": [\"admin\"]\n}"
            },
            "url": {
              "raw": "{{API_GATEWAY_URL}}/users/{{userId}}",
              "host": ["{{API_GATEWAY_URL}}"],
              "path": ["users","{{userId}}"]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": { "type": "text/javascript", "exec": [] }
    },
    {
      "listen": "test",
      "script": { "type": "text/javascript", "exec": [] }
    }
  ],
  "variable": [
    {
      "key": "API_GATEWAY_URL",
      "value": "https://pbtzshi5ji.execute-api.us-east-1.amazonaws.com/dev",
      "type": "string"
    }
  ]
}
